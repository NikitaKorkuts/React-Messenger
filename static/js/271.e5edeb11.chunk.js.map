{"version":3,"file":"static/js/271.e5edeb11.chunk.js","mappings":"mRACA,EAA6B,+BAA7B,EAAqE,2B,SCIxDA,EAA4B,SAAC,GAOnC,IANHC,EAME,EANFA,OACAC,EAKE,EALFA,gBACAC,EAIE,EAJFA,YACAC,EAGE,EAHFA,cACAC,EAEE,EAFFA,SAEE,IADFC,mBAAAA,OACE,MADmB,EACnB,EACIC,EAAaC,KAAKC,KAAKP,EAAkBG,GAE3CK,EAAUP,EAAcG,EACxBI,EAAU,IACVA,EAAU,GAGd,IAAIC,EAAUR,EAAcG,EACxBK,EAAUJ,IACVI,EAAUJ,GAGd,IAAIK,EAAeT,EAAc,EAC7BS,EAAe,IACfA,EAAe,GAGnB,IAAIC,EAAWV,EAAc,EACzBU,EAAWN,IACXM,EAAWV,GAIf,IADA,IAAMW,EAAQ,GAvBZ,WAwBOC,GACL,IAAMC,GACF,iBACIC,QAAS,kBAAMb,EAAcW,EAAGd,EAAvB,EAETiB,UAAWH,IAAMZ,EAAcgB,OAAWC,EAH9C,SAKKL,GAHIA,GAMbD,EAAMO,KAAKL,EAlCb,EAwBOD,EAAIL,EAASK,GAAKJ,EAASI,IAAM,EAAjCA,GAaT,OACI,iBAAKG,UAAS,UAAKC,GAAnB,WACI,iBACIF,QAAS,kBAAMb,EAAc,EAAGH,EAAvB,EADb,mBADJ,QAOI,iBACIgB,QAAS,kBAAMb,EAAcQ,EAAcX,EAAlC,EADb,kBAKCa,GACD,iBACIG,QAAS,kBAAMb,EAAcS,EAAUZ,EAA9B,EADb,kBAbJ,QAmBI,iBACIgB,QAAS,kBAAMb,EAAcG,EAAYN,EAAhC,EADb,oBAOX,E,UC3ED,GAAgB,MAAQ,oBAAoB,KAAO,mBAAmB,QAAU,sBAAsB,OAAS,qBAAqB,UAAY,wBAAwB,cAAgB,4BAA4B,iBAAmB,+BAA+B,SAAW,uBAAuB,SAAW,uBAAuB,SAAW,uBAAuB,SAAW,uBAAuB,YAAc,0BAA0B,WAAa,yBAAyB,OAAS,qBAAqB,YAAc,0BAA0B,WAAa,yBAAyB,UAAY,yBCKvkBqB,EAAkC,SAAC,GASzC,IARHC,EAQE,EARFA,OACAC,EAOE,EAPFA,KACAC,EAME,EANFA,SACAC,EAKE,EALFA,sBACAC,EAIE,EAJFA,OACAC,EAGE,EAHFA,GACAC,EAEE,EAFFA,SACAC,EACE,EADFA,OAEMC,EAAiB,WACnBJ,EAAOC,EACV,EACKI,EAAsB,WACxBH,EAASD,EACZ,EAmCD,OACI,iBAAKV,UAAWC,EAAAA,KAAhB,WACI,iBAAKD,UAAWC,EAAAA,SAAhB,WACI,iBAAKD,UAAWC,EAAAA,SAAhB,WACI,gBAAKD,UAAWC,EAAAA,WAAhB,UACI,SAAC,KAAD,CAAMc,GAAE,mBAAcL,GAAtB,UACI,gBAAKV,UAAWC,EAAAA,UAAae,IAAI,aAAaC,IAAKZ,SAG3D,iBAAKL,UAAWC,EAAAA,SAAhB,WACI,gBAAKD,UAAWC,EAAAA,SAAhB,UACI,SAAC,KAAD,CAAMD,UAAWC,EAAAA,YAAec,GAAE,mBAAcL,GAAhD,UACI,uBAAIJ,SAGZ,gBAAKN,UAAWC,EAAAA,WAAhB,UACI,cAAGD,UAAWC,EAAAA,OAAd,gBACKW,QADL,IACKA,OADL,EACKA,EAAQM,MAAM,EAAG,eAKlC,gBAAKlB,UAAWC,EAAAA,YAAhB,SA5BW,WACnB,GAAGM,EACC,OAAO,iBAAMP,UAAWC,EAAAA,WAAjB,uFAEd,CAyBgBkB,SAIT,iBAAKnB,UAAWC,EAAAA,QAAhB,UA5DAM,GAEI,gBAAKP,UAAWC,EAAAA,OAAhB,UACI,mBACImB,SAAUZ,EAAsBa,MAAK,SAAAC,GAAM,OAAIA,IAAWZ,CAAf,IAC3CX,QAASe,EACTd,UAAWC,EAAAA,UAHf,6EAWJ,gBAAKD,UAAWC,EAAAA,OAAhB,UACI,mBACImB,SAAUZ,EAAsBa,MAAK,SAAAX,GAAE,OAAIA,IAAOA,CAAX,IACvCX,QAASc,EACTb,UAAWC,EAAAA,UAHf,mFA+CJ,gBAAKD,UAAWC,EAAAA,cAAhB,UACI,SAAC,KAAD,CAAMc,GAAE,kBAAaL,GAArB,UACI,mBAAQV,UAAWC,EAAAA,iBAAnB,8HAQvB,E,oBC9FD,GAAgB,YAAc,qCAAqC,WAAa,oCAAoC,WAAa,oCAAoC,cAAgB,wCCQxKsB,EAAgD,SAAC,GAGvD,IAFHC,EAEE,EAFFA,gBACAzC,EACE,EADFA,OAGM0C,EAAS,SAACC,EAAD,GAA4F,IACnGC,EAD2BC,EAAuE,EAAvEA,cAE/B,OAAQF,EAAOC,QACf,IAAK,OACDA,EAAS,KACT,MACJ,IAAK,QACDA,GAAS,EACT,MACJ,IAAK,OACDA,GAAS,EAIb,IAAM5C,EAAqB,CACvB8C,KAAMH,EAAOG,KACbF,OAAQA,GAGZH,EAAgBzC,GAChB6C,GAAc,EACjB,EAUD,OACI,gBAAK5B,UAAWC,EAAAA,gBAAhB,UACI,SAAC,KAAD,CACI6B,oBAAoB,EACpBC,cAAe,CAACF,KAAM9C,EAAO8C,KAAMF,OAAQK,OAAOjD,EAAO4C,SACzDM,SAAUR,EAHd,SAKK,gBAAES,EAAF,EAAEA,aAAcR,EAAhB,EAAgBA,OAAQE,EAAxB,EAAwBA,cAAxB,OACG,UAAC,KAAD,CAAM5B,UAAWC,EAAAA,YAAjB,WACI,SAAC,IAAD,CACID,UAAWC,EAAAA,WACXF,QAAUmC,EAAuD,WAChE,EADwB,kBAAMT,EAAOC,EAAQ,CAACE,cAAAA,GAAtB,KAG7B,SAAC,KAAD,CACIO,YAAY,0CACZnC,UAAWC,EAAAA,WACXmC,KAAK,GACL9B,KAAK,OACL+B,WAAW,KAGf,UAAC,KAAD,CACI/B,KAAK,SACLgC,GAAG,SACHtC,UAAWC,EAAAA,cACXsC,SAAU,SAACC,IAlCgB,SAACA,EAAD,GAA+C,IAA1CN,EAAyC,EAAzCA,aAAcR,EAA2B,EAA3BA,OAAQE,EAAmB,EAAnBA,cAC1EY,EAAEC,UACGP,GACDT,GAAO,kBAAIC,GAAL,IAAaC,OAAQa,EAAEE,OAAOC,QAAsB,CAACf,cAAAA,GAElE,CA8B2BgB,CAAmBJ,EAAG,CAACZ,cAAAA,EAAeM,aAAAA,EAAcR,OAAAA,GACvD,EANL,WAQI,mBACI1B,UAAWC,EAAAA,aACX0C,MAAM,OAFV,0GAMA,mBACI3C,UAAWC,EAAAA,aACX0C,MAAM,OAFV,8FAMA,mBACI3C,UAAWC,EAAAA,aACX0C,MAAM,QAFV,kGAnCX,KA+ChB,ECxFYE,EAA4B,SAAC,GAWnC,IAVHC,EAUE,EAVFA,MACAC,EASE,EATFA,aACAhE,EAQE,EARFA,OACAiE,EAOE,EAPFA,eACAC,EAME,EANFA,gBACA9D,EAKE,EALFA,SACAF,EAIE,EAJFA,YACAuB,EAGE,EAHFA,sBACAG,EAEE,EAFFA,SACAF,EACE,EADFA,OAGMyC,EAAgBJ,EAAOK,KAAI,SAAAC,GAC7B,OACI,SAAChD,EAAD,CACIM,GAAI0C,EAAE1C,GACNL,OAA2B,OAAnB+C,EAAEC,OAAOC,MAAiBF,EAAEC,OAAOC,MAAQC,EACnDjD,KAAM8C,EAAE9C,KAERC,SAAU6C,EAAEI,SACZhD,sBAAuBA,EACvBG,SAAUA,EACVF,OAAQA,EACRG,OAAQwC,EAAExC,QALLwC,EAAE1C,GAOlB,IAYD,OACI,4BACI,SAACa,EAAD,CACIC,gBAPY,SAACzC,GACrBgE,EAAa,EAAG5D,EAAUJ,EAC7B,EAMWA,OAAQA,IAEXkE,EAAgB9D,EAAW,IACxB,SAACL,EAAD,CACIE,gBAAiBiE,EACjBhE,YAAaA,EACbC,cAnBM,SAACY,GACnBkD,EAAelD,GACfiD,EAAajD,EAAMX,EAAUJ,EAChC,EAiBeI,SAAUA,EACVJ,OAAQA,KAGhB,gBAAKiB,UAAWC,EAAAA,MAAhB,SACKiD,MAKhB,ECxDKO,EAAAA,SAAAA,IAAAA,EAAAA,EAAAA,GAAAA,EAAAA,GAAAA,IAAAA,GAAAA,EAAAA,EAAAA,GAAAA,GAAAA,SAAAA,IAAAA,OAAAA,EAAAA,EAAAA,GAAAA,KAAAA,GAAAA,EAAAA,MAAAA,KAAAA,UAAAA,CA4ED,OA5ECA,EAAAA,EAAAA,GAAAA,EAAAA,CAAAA,CAAAA,IAAAA,oBAAAA,MAEF,WACI,MAA8DC,KAAKC,MAA5D5E,EAAP,EAAOA,OAAQE,EAAf,EAAeA,YAAaE,EAA5B,EAA4BA,SAAUyE,EAAtC,EAAsCA,OAAQb,EAA9C,EAA8CA,aAExCc,EAAS,IAAIC,gBAAgBF,EAAOG,SAASF,QAE/CG,EAAa/E,EACbgF,EAAelF,EAInB,OAFM8E,EAAOK,IAAI,UAASF,EAAaG,OAAON,EAAOK,IAAI,UACnDL,EAAOK,IAAI,UAASD,GAAY,kBAAOA,GAAP,IAAqBpC,KAAMgC,EAAOK,IAAI,WACpEL,EAAOK,IAAI,WACnB,IAAK,OACDD,GAAY,kBAAOA,GAAP,IAAqBtC,OAAQ,OACzC,MACJ,IAAK,QACDsC,GAAY,kBAAOA,GAAP,IAAqBtC,QAAQ,IACzC,MACJ,IAAK,OACDsC,GAAY,kBAAOA,GAAP,IAAqBtC,QAAQ,IAG7CoB,EAAaiB,EAAY7E,EAAU8E,EACtC,mCAED,SAAmBG,GACf,MAAsCV,KAAKC,MAApC5E,EAAP,EAAOA,OAAQE,EAAf,EAAeA,YAAa2E,EAA5B,EAA4BA,OAE5B,GAAG7E,IAAWqF,EAAUrF,QAAUE,IAAgBmF,EAAUnF,YAAa,CACrE,IAAMoF,EAAmB,CAAC,EAEpBtF,EAAO8C,OAAMwC,EAAYxC,KAAO9C,EAAO8C,MACvB,OAAlB9C,EAAO4C,SAAiB0C,EAAY1C,OAASK,OAAOjD,EAAO4C,SAC3C,IAAhB1C,IAAmBoF,EAAYvE,KAAOkC,OAAO/C,IAEjD,IAAMqF,EAAc,IAAIR,gBAAgBO,GAAaE,WAErDX,EAAOY,SAAS,CACZX,OAAQ,IAAMS,GAErB,CACJ,uBAED,WACI,MAYIZ,KAAKC,MAXLc,EADJ,EACIA,WACA3B,EAFJ,EAEIA,MACAG,EAHJ,EAGIA,gBACAhE,EAJJ,EAIIA,YACAE,EALJ,EAKIA,SACAJ,EANJ,EAMIA,OACAiE,EAPJ,EAOIA,eACAD,EARJ,EAQIA,aACAvC,EATJ,EASIA,sBACAG,EAVJ,EAUIA,SACAF,EAXJ,EAWIA,OAGJ,OAAIgE,GACO,SAACC,EAAA,EAAD,KAGP,SAAC7B,EAAD,CACIC,MAAOA,EACPG,gBAAiBA,EACjBhE,YAAaA,EACbE,SAAUA,EACVJ,OAAQA,EACRiE,eAAgBA,EAChBD,aAAcA,EACdvC,sBAAuBA,EACvBG,SAAUA,EACVF,OAAQA,GAGnB,OA5ECgD,CAAuBkB,EAAAA,WA0F7B,GAAeC,EAAAA,EAAAA,IAA6BC,EAAAA,GAAYC,EAAAA,EAAAA,KAXhC,SAACC,GAAD,MAA0B,CAC9CN,WAAYM,EAAMjC,MAAM2B,WACxB3B,MAAOiC,EAAMjC,MAAMA,MACnBG,gBAAiB8B,EAAMjC,MAAMG,gBAC7BhE,YAAa8F,EAAMjC,MAAM7D,YACzBE,SAAU4F,EAAMjC,MAAM3D,SACtBJ,OAAQgG,EAAMjC,MAAM/D,OACpByB,sBAAuBuE,EAAMjC,MAAMtC,sBAPf,GAWyD,CAC7EuC,aAAAA,EAAAA,GACAC,eAAgBgC,EAAAA,GAAAA,eAChBvE,OAAAA,EAAAA,GACAE,SAAAA,EAAAA,KAJJ,CAKI8C,GCjGJ,EARkB,WACd,OACI,0BACI,SAAC,EAAD,KAGX,C","sources":["webpack://messanger/./src/components/shared/Pagination/pagination.module.scss?46e7","components/shared/Pagination/Pagination.tsx","webpack://messanger/./src/components/screens/Users/user.module.scss?63ef","components/screens/Users/UserItem.tsx","webpack://messanger/./src/components/screens/Users/UsersSearchForm/usersSearchForm.module.scss?3ee5","components/screens/Users/UsersSearchForm/UsersSearchForm.tsx","components/screens/Users/Users.tsx","components/screens/Users/UsersContainer.tsx","pages/Users/UsersPage.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"pagination\":\"pagination_pagination__e9Hgy\",\"active\":\"pagination_active__EI-Rh\"};","import React, {FC} from 'react';\n\nimport {PropsType} from './pagination.types';\nimport s from './pagination.module.scss';\n\nexport const Pagination: FC<PropsType> = ({\n    filter,\n    totalItemsCount,\n    currentPage,\n    onPageChanged,\n    pageSize,\n    halfPaginationSize = 4,\n}) => {\n    const pagesCount = Math.ceil(totalItemsCount / pageSize);\n\n    let minPage = currentPage - halfPaginationSize;\n    if (minPage < 1) {\n        minPage = 1;\n    }\n\n    let maxPage = currentPage + halfPaginationSize;\n    if (maxPage > pagesCount) {\n        maxPage = pagesCount;\n    }\n\n    let previousPage = currentPage - 1;\n    if (previousPage < 1) {\n        previousPage = 1;\n    }\n\n    let nextPage = currentPage + 1;\n    if (nextPage > pagesCount) {\n        nextPage = currentPage;\n    }\n\n    const pages = [];\n    for (let i = minPage; i <= maxPage; i++) {\n        const page = (\n            <span\n                onClick={() => onPageChanged(i, filter)}\n                key={i}\n                className={i === currentPage ? s.active : undefined}\n            >\n                {i}\n            </span>\n        );\n        pages.push(page);\n    }\n\n    return (\n        <div className={`${s.pagination}`}>\n            <span\n                onClick={() => onPageChanged(1, filter)}\n            >\n                First\n            </span>\n            &nbsp;\n            <span\n                onClick={() => onPageChanged(previousPage, filter)}\n            >\n                «\n            </span>\n            {pages}\n            <span\n                onClick={() => onPageChanged(nextPage, filter)}\n            >\n                »\n            </span>\n            &nbsp;\n            <span\n                onClick={() => onPageChanged(pagesCount, filter)}\n            >\n                Last\n            </span>\n        </div>\n    );\n};\n\n","// extracted by mini-css-extract-plugin\nexport default {\"users\":\"user_users__d37Wh\",\"user\":\"user_user__Rq5E8\",\"actions\":\"user_actions__mWJdj\",\"follow\":\"user_follow__Kb5h5\",\"followBtn\":\"user_followBtn__6xzwv\",\"startChatting\":\"user_startChatting__jZgD-\",\"startChattingBtn\":\"user_startChattingBtn__0JhlK\",\"mainPart\":\"user_mainPart__Mc3vr\",\"leftSide\":\"user_leftSide__Ur7NI\",\"userInfo\":\"user_userInfo__dDNif\",\"infoName\":\"user_infoName__bpwYs\",\"profileLink\":\"user_profileLink__GckpN\",\"infoStatus\":\"user_infoStatus__9Cu8P\",\"status\":\"user_status__GMYiA\",\"isFollowing\":\"user_isFollowing__ax6JA\",\"userAvatar\":\"user_userAvatar__baMz2\",\"avatarImg\":\"user_avatarImg__e5aVY\"};","import React, {FC} from 'react';\nimport {Link} from 'react-router-dom';\n\nimport {UserItemPropsType} from './users.types';\nimport s from './user.module.scss';\n\nexport const UserItem: FC<UserItemPropsType> = ({\n    imgUrl,\n    name,\n    isFriend,\n    isFollowingInProgress,\n    follow,\n    id,\n    unfollow,\n    status,\n}) => {\n    const onAddToFriends = () => {\n        follow(id);\n    };\n    const onRemoveFromFriends = () => {\n        unfollow(id);\n    };\n    const getFollowButton = () => {\n        if (isFriend) {\n            return (\n                <div className={s.follow}>\n                    <button\n                        disabled={isFollowingInProgress.some(userId => userId === id)}\n                        onClick={onRemoveFromFriends}\n                        className={s.followBtn}\n                    >\n                        Отписаться\n                    </button>\n                </div>\n            );\n        } else {\n            return (\n                <div className={s.follow}>\n                    <button\n                        disabled={isFollowingInProgress.some(id => id === id)}\n                        onClick={onAddToFriends}\n                        className={s.followBtn}\n                    >\n                        Подписаться\n                    </button>\n                </div>\n            );\n        }\n    };\n\n    const getIsFollowing = () => {\n        if(isFriend) {\n            return <span className={s.yourFriend} >&#10003; Вы подписаны</span>\n        }\n    };\n\n    return (\n        <div className={s.user}>\n            <div className={s.mainPart}>\n                <div className={s.leftSide}>\n                    <div className={s.userAvatar}>\n                        <Link to={`/profile/${id}`}>\n                            <img className={s.avatarImg} alt=\"UserAvatar\" src={imgUrl}/>\n                        </Link>\n                    </div>\n                    <div className={s.userInfo}>\n                        <div className={s.infoName}>\n                            <Link className={s.profileLink} to={`/profile/${id}`}>\n                                <p>{name}</p>\n                            </Link>\n                        </div>\n                        <div className={s.infoStatus}>\n                            <p className={s.status}>\n                                {status?.slice(0, 20)}\n                            </p>\n                        </div>\n                    </div>\n                </div>\n                <div className={s.isFollowing}>\n                    {getIsFollowing()}\n                </div>\n            </div>\n\n            <div className={s.actions}>\n                {getFollowButton()}\n                <div className={s.startChatting}>\n                    <Link to={`/dialog/${id}`}>\n                        <button className={s.startChattingBtn}>\n                            Написать сообщение\n                        </button>\n                    </Link>\n                </div>\n            </div>\n        </div>\n    )\n};","// extracted by mini-css-extract-plugin\nexport default {\"usersSearch\":\"usersSearchForm_usersSearch__xOesh\",\"searchIcon\":\"usersSearchForm_searchIcon__S9SDG\",\"searchForm\":\"usersSearchForm_searchForm__T8WnQ\",\"searchOptions\":\"usersSearchForm_searchOptions__CNr3a\"};","import {ChangeEvent, FC} from 'react';\nimport {Field, Form, Formik} from 'formik';\n\nimport {FilterType} from '../../../../store/users/users.types';\nimport {ReactComponent as SearcIcon} from '../../../../assets/icons/search-icon.svg';\n\nimport s from './usersSearchForm.module.scss';\nimport {FormType, FriendType, handleSelectChangeType, UsersSearchFormPropsType} from './usersSearchForm.types';\n\nexport const UsersSearchForm: FC<UsersSearchFormPropsType> = ({\n    onFilterChanged,\n    filter,\n}) => {\n\n    const submit = (values: FormType, {setSubmitting}: { setSubmitting: (isSubmitting: boolean) => void }) => {\n        let friend;\n        switch (values.friend) {\n        case 'null':\n            friend = null;\n            break;\n        case 'false':\n            friend = false;\n            break;\n        case 'true':\n            friend = true;\n            break;\n        }\n\n        const filter: FilterType = {\n            term: values.term,\n            friend: friend,\n        };\n\n        onFilterChanged(filter);\n        setSubmitting(false);\n    };\n\n    const handleSelectChange: handleSelectChangeType = (e, {isSubmitting, values, setSubmitting}) => {\n        e.persist();\n        if (!isSubmitting) {\n            submit({...values, friend: e.target.value as FriendType}, {setSubmitting});\n        }\n    };\n\n\n    return (\n        <div className={s.usersSearchForm}>\n            <Formik\n                enableReinitialize={true}\n                initialValues={{term: filter.term, friend: String(filter.friend) as FriendType}}\n                onSubmit={submit}\n            >\n                {({isSubmitting, values, setSubmitting}) => (\n                    <Form className={s.usersSearch}>\n                        <SearcIcon\n                            className={s.searchIcon}\n                            onClick={!isSubmitting ? () => submit(values, {setSubmitting}) : () => {\n                            }}\n                        />\n                        <Field\n                            placeholder=\"Искать...\"\n                            className={s.searchForm}\n                            type=\"\"\n                            name=\"term\"\n                            autoFocus={true}\n                        />\n\n                        <Field\n                            name=\"friend\"\n                            as=\"select\"\n                            className={s.searchOptions}\n                            onChange={(e: ChangeEvent<HTMLSelectElement>) => {\n                                handleSelectChange(e, {setSubmitting, isSubmitting, values});\n                            }}\n                        >\n                            <option\n                                className={s.searchOption}\n                                value=\"null\"\n                            >\n                                Все пользователи\n                            </option>\n                            <option\n                                className={s.searchOption}\n                                value=\"true\"\n                            >\n                                Среди подписок\n                            </option>\n                            <option\n                                className={s.searchOption}\n                                value=\"false\"\n                            >\n                                Кроме подписок\n                            </option>\n                        </Field>\n                    </Form>\n                )}\n            </Formik>\n        </div>\n    );\n};","import React, {FC} from 'react';\n\nimport defaultAvatar from '../../../assets/images/defaultAvatar.png';\nimport {Pagination} from '../../shared/Pagination/Pagination';\nimport {FilterType} from '../../../store/users/users.types';\n\nimport {UsersPropsType} from './users.types';\nimport {UserItem} from './UserItem';\nimport {UsersSearchForm} from './UsersSearchForm/UsersSearchForm';\nimport s from './user.module.scss';\n\nexport const Users: FC<UsersPropsType> = ({\n    users,\n    requestUsers,\n    filter,\n    setCurrentPage,\n    totalUsersCount,\n    pageSize,\n    currentPage,\n    isFollowingInProgress,\n    unfollow,\n    follow,\n}) => {\n\n    const UserElements = (users).map(u => {\n        return (\n            <UserItem\n                id={u.id}\n                imgUrl={u.photos.small !== null ? u.photos.small : defaultAvatar}\n                name={u.name}\n                key={u.id}\n                isFriend={u.followed}\n                isFollowingInProgress={isFollowingInProgress}\n                unfollow={unfollow}\n                follow={follow}\n                status={u.status}\n            />);\n    },\n    );\n\n    const onPageChanged = (page: number) => {\n        setCurrentPage(page);\n        requestUsers(page, pageSize, filter);\n    };\n\n    const onFilterChanged = (filter: FilterType) => {\n        requestUsers(1, pageSize, filter);\n    };\n\n    return (\n        <div>\n            <UsersSearchForm\n                onFilterChanged={onFilterChanged}\n                filter={filter}\n            />\n            {totalUsersCount/pageSize > 1 && (\n                <Pagination\n                    totalItemsCount={totalUsersCount}\n                    currentPage={currentPage}\n                    onPageChanged={onPageChanged}\n                    pageSize={pageSize}\n                    filter={filter}\n                />\n            )}\n            <div className={s.users}>\n                {UserElements}\n            </div>\n\n        </div>\n    );\n};\n","import React, {Component} from 'react';\nimport {connect} from 'react-redux';\nimport {compose} from 'redux';\n\nimport {Preloader} from '../../shared/Preloader/Preloader';\nimport {withRouter} from '../../../hocs/withRouter';\nimport {AppStateType} from '../../../store/store.types';\nimport {RouterType} from '../../../types/types';\nimport {follow, requestUsers, unfollow, usersActions} from '../../../store/users/users.actions';\n\nimport {UsersContainerPropsType} from './users.types';\nimport {Users} from './Users';\n\n\nclass UsersContainer extends Component<RouterType & UsersContainerPropsType> {\n\n    componentDidMount() {\n        const {filter, currentPage, pageSize, router, requestUsers} = this.props;\n\n        const search = new URLSearchParams(router.location.search);\n\n        let actualPage = currentPage;\n        let actualFilter = filter;\n\n        if (!!search.get('page')) actualPage = Number(search.get('page'));\n        if (!!search.get('term')) actualFilter = {...actualFilter, term: search.get('term') as string};\n        switch (search.get('friend')) {\n        case 'null':\n            actualFilter = {...actualFilter, friend: null};\n            break;\n        case 'false':\n            actualFilter = {...actualFilter, friend: false};\n            break;\n        case 'true':\n            actualFilter = {...actualFilter, friend: true};\n            break;\n        }\n        requestUsers(actualPage, pageSize, actualFilter);\n    }\n\n    componentDidUpdate(prevProps: RouterType & UsersContainerPropsType) {\n        const {filter, currentPage, router} = this.props;\n\n        if(filter !== prevProps.filter || currentPage !== prevProps.currentPage) {\n            const queryParams: any = {};\n\n            if (!!filter.term) queryParams.term = filter.term;\n            if (filter.friend !== null) queryParams.friend = String(filter.friend);\n            if (currentPage !== 1) queryParams.page = String(currentPage);\n\n            const queryString = new URLSearchParams(queryParams).toString();\n\n            router.navigate({\n                search: '?' + queryString,\n            });\n        }\n    }\n\n    render() {\n        const {\n            isFetching,\n            users,\n            totalUsersCount,\n            currentPage,\n            pageSize,\n            filter,\n            setCurrentPage,\n            requestUsers,\n            isFollowingInProgress,\n            unfollow,\n            follow,\n        } = this.props;\n\n        if (isFetching) {\n            return <Preloader/>;\n        }\n        return (\n            <Users\n                users={users}\n                totalUsersCount={totalUsersCount}\n                currentPage={currentPage}\n                pageSize={pageSize}\n                filter={filter}\n                setCurrentPage={setCurrentPage}\n                requestUsers={requestUsers}\n                isFollowingInProgress={isFollowingInProgress}\n                unfollow={unfollow}\n                follow={follow}\n            />\n        );\n    }\n}\n\nconst mapStateToProps = (state: AppStateType) => ({\n    isFetching: state.users.isFetching,\n    users: state.users.users,\n    totalUsersCount: state.users.totalUsersCount,\n    currentPage: state.users.currentPage,\n    pageSize: state.users.pageSize,\n    filter: state.users.filter,\n    isFollowingInProgress: state.users.isFollowingInProgress,\n});\n\n\nexport default compose<React.ComponentType>(withRouter, connect(mapStateToProps, {\n    requestUsers,\n    setCurrentPage: usersActions.setCurrentPage,\n    follow,\n    unfollow,\n}))(UsersContainer)","import React from 'react';\n\nimport UsersContainer from '../../components/screens/Users/UsersContainer';\n\nconst UsersPage = () => {\n    return (\n        <div>\n            <UsersContainer />\n        </div>\n    );\n};\n\nexport default UsersPage"],"names":["Pagination","filter","totalItemsCount","currentPage","onPageChanged","pageSize","halfPaginationSize","pagesCount","Math","ceil","minPage","maxPage","previousPage","nextPage","pages","i","page","onClick","className","s","undefined","push","UserItem","imgUrl","name","isFriend","isFollowingInProgress","follow","id","unfollow","status","onAddToFriends","onRemoveFromFriends","to","alt","src","slice","getIsFollowing","disabled","some","userId","UsersSearchForm","onFilterChanged","submit","values","friend","setSubmitting","term","enableReinitialize","initialValues","String","onSubmit","isSubmitting","placeholder","type","autoFocus","as","onChange","e","persist","target","value","handleSelectChange","Users","users","requestUsers","setCurrentPage","totalUsersCount","UserElements","map","u","photos","small","defaultAvatar","followed","UsersContainer","this","props","router","search","URLSearchParams","location","actualPage","actualFilter","get","Number","prevProps","queryParams","queryString","toString","navigate","isFetching","Preloader","Component","compose","withRouter","connect","state","usersActions"],"sourceRoot":""}